# 2020-11-02

3. 언어 기초

**PL/SQL 블록 구조**

1. 모듈화

PL/SQL 블록은 프로시저, 함수와 같은 모듈을 구축하는 코드의 기본 단위로서 PL/SQL의 애플리케이션은 블록으로 구성되어 있다. 블록은 가장 낮은 조합 단위인데, 잘 고안된 블록은 다른 프로그래머가 쉽게 사용하고 유지할 수 있게 하는 기초가 된다.

2. 영역

블록은 영역과 논리적으로 연관된 객체를 위한 문맥을 제공한다. 그리고 블록에 같이 있는 선언부분과 실행문장을 그룹 지을 수 있다.



익명 블록과 프로시저나 함수 등의 이름이 있는 블록을 생성할 수 있다. 게다가 PL/SQL로 여러 프로시저나 함수를 한데 묶어 패키지로 만들 수 있다.



**PL/SQL 블록 구성**

각 PL/SQL 블록은 4개의 다른 부분으로 구성될 수 있으며, 이 네 부분중 한 부분은 반드시 존재해야 한다.

헤더 : 이름이 있는 블록에서만 사용된다. 헤더는 이름이 있는 블록이나 프로그램의 호출 방식을 결정하는 부분으로, 선택사항이다.

선언부 : 실행부와 예외부에서 참조되는 예외변수, 커서, 서브 블록을 선언한다. 선택사항이다.

실행부 : 실행시간에 PL/SQL 실행시간 엔진이 실행하는 문장들이다. 필수사항이다.

예외부 : 예외를 정상적(경고와 오류조건)으로 처리한다. 선택사항이다.

![PL/SQL Block Structure - Oracle PL/SQL Programming, 5th Edition [Book]](https://www.oreilly.com/library/view/oracle-plsql-programming/9780596805401/httpatomoreillycomsourceoreillyimages322998.png)

블록 각 부분의 순서는 프로그램 작성 방식이나 각 부분의 실행 방식과 관련이 있다.

1. 블록 유형(프로시저, 함수, 익명)과 호출 방식 지정(헤더)
2. 블록에서 사용되는 변수선언(선언부)
3. 요구사항 처리를 위한 로컬 변수 및 다른 PL/SQL 객체 사용(실행부)
4. 블록 실행 중 발생하는 문제 처리(예외부)