# 웹 서버(Web server)

1. 하드웨어 측면에서의 웹서버는 web server의 소프트웨어와 website의 컴포넌트 파일들을 저장하는 컴퓨터(컴포넌트 파일에는 HTML 문서, images, CSS, stylesheets, 그리고 JavaScript files) 
Web server는 인터넷에 연결되어 웹에 연결된 다른 기기들이 웹 서버의 데이터(컴포넌트 파일들)를 주고받을 수 있도록 합니다.

2. 소프트웨어 측면에서, web server는 기본적으로 웹 사용자가 어떻게 호스트 파일들에 접근하는지를 관리.
이 문서에서 web server는 HTTP서버로 국한합니다.
HTTP 서버는 URL과 HTTP의 소프트웨어 일부입니다.

가장 기본적인 단계에서, 브라우저가 웹 서버에서 불려진 파일을 필요로 할때, 브라우저는 HTTP를 통해 파일을 요청
요청이 올바른 웹서버(하드웨어)에 도달하였을 때, HTTP 서버(software)는 요청된 문서를 HTTP를 이용해 보내줍니다.

웹 사이트를 공개하기 위해서는, 당신은 정적 혹은 동적 웹 서버가 필요합니다.

정적 웹 서버 혹은 스택은 HTTP 서버 (소프트웨어)가 있는 컴퓨터(하드웨어)로 구성되어 있습니다. 
서버가 그 불려진 파일을 당신의 브라우저에게 전송하기 때문에, 저희는 그것을 '정적'이라고 부릅니다.

동적 웹 서버는 정적 웹 서버와 추가적인 소프트웨어(대부분 일반적인 애플리케이션 서버와 데이터베이스)로 구성되어있습니다.
애플리케이션 서버가 HTTP 서버를 통해 당신의 브라우저에게 불려진 파일들을 전송하기 전에, 애플리케이션 서버가 업데이트하기 때문에 우리는 이것을 '동적' 이라고부릅니다.

예를 들어, 당신이 브라우저에서 보는 최종 웹페이지들을 생성하기 위해, 
애플리케이션 서버는 아마 데이터베이스로 온 컨텐츠들로 이루어진 HTML 템플릿을 채울지 모릅니다.
MDN 혹은 Wikipedia와 같은 사이트들은 수 천개의 웹페이지들을 가지고 있지만, 그것들은 실제의 HTML 문서가 아니라
오직 약간의 HTML 템플릿과 엄청 큰 데이터베이스로 되어있습니다. 이 구성은 내용들을 전달하고 관리하기 쉽고 빠르게 만들어 줍니다.

[출처] http://developer.mozilla.org/ko/docs/Learn/Common_questions/What_is_a_web_server



웹 서버의 주된 기능은 웹 페이지를 클라이언트로 전달하는 것이다. 
주로 그림, CSS, 자바스크립트를 포함한 HTML 문서가 클라이언트로 전달된다.

흔히 웹 브라우저 또는 웹 크롤러로 부르는 클라이언트는 HTTP를 통해 리소스를 요청하며 서버는 해당 리소스를 반환하거나 처리할 수 없을 경우 에러 메시지를 전달한다. 
이러한 리소스는 일반적으로 서버의 보조 기억 장치에 있는 실제 파일을 가리키지만 반드시 그런 것은 아니며 웹 서버가 어떻게 수행하느냐에 따라 달라질 수 있다.

주된 기능은 콘텐츠를 제공하는 것이지만 클라이언트로부터 콘텐츠를 전달 받는 것도 웹 서버의 기능에 속한다. 
이러한 기능은 파일 업로드를 포함하여 클라이언트에서 제출한 웹 폼을 수신하기 위해 사용된다.

보통 대다수의 웹 서버는 Active Server Page(ASP), PHP 등의 서버 사이드 스크립트 언어(Server-side scripting)를 지원한다. 
이는 서버 소프트웨어의 변경 없이도 웹 서버가 수행할 동작을 분리된 서버 사이드 스크립트 언어에 기술할 수 있다는 의미이다. 
보통 서버 사이드 스크립트 언어를 통해 구현되는 기능이란 HTML 문서를 동적으로 생성하는 것을 말한다. 
이렇게 동적으로 생성된 HTML 문서는 동적 컨텐트라 하는데 주로 데이터베이스의 정보를 조회해서 보여주거나 수정하기 위해 사용된다. 
동적 컨텐트와 대비되는 개념으로 정적 컨텐트가 있는데 일반적으로 동적 컨텐트보다 더 빠르게 동작하고 쉽게 캐시될 수 있지만, 반환되는 컨텐트의 내용이 항상 동일하다.

웹 서버는 월드 와이드 웹 뿐만 아니라 프린터, 라우터, 웹캠과 같은 임베디드 장치, 그리고 근거리 통신망(local network)에서도 사용된다. 
시스템의 모니터링 또는 장치 관리를 위한 목적으로 사용되는데, 이렇게 웹 서버는 클라이언트에 다른 소프트웨어의 설치 없이 대부분의 운영체제에 포함된 웹 브라우저만으로 서비스를 제공할 수 있다는 장점이 있다.


**웹서버**
웹 서비스는 HTTP 프로토콜을 이용하여 클라이언트와 서버의 통신을 의미합니다. 클라이언트가 서버에 요청을 하면 서버는 응답을 합니다. 웹서버는 HTTP request를 받고 HTML, CSS, Javascript, Image 등의 정적인 정보를 반환하는 역할을 합니다. 대표적인 웹서버는 IIS, Apache, Nginx, GWS등이 있습니다.

**Forward Proxy**
클라이언트가 특정 웹서비스에 직접 요청하고 응답을 받는 것이 아니라, 프록시 서버가 대신 요청하고 응답을 클라이언트에 전달(Forward)을 해줍니다. 포워드 프록시는 캐쉬기능이 있기 때문에 자주 사용하는 컨텐츠에 대해서는 빠르게 응답을 할 수 있습니다. 내부 연결사이트를 제한하는 기업환경 또는 군대에서 많이 사용합니다.

**Reverse Proxy**
HTTP요청을 특정 네트워크 또는 서버로 전달하는 역할을 수행하는 서버입니다. 특히, 외부로 오픈되지 않은 내부 서버에 접근할 수 있도록 요청과 응답을 전달하는 역할을 합니다. 보안을 위하여 내부 네트워크를 분리한 경우 사용합니다.

**앱서버 또는 Web Application Server(WAS)**
WAS와 앱서버는 동의어입니다. 앱서버는 웹서버와 앱 사이의 동적인 정보를 생성하는 역할을 담당하는 미들웨어입니다. 웹서버는 앱을 알지 못하고, 반대로 앱은 웹서버에 대하여 알지 못합니다. 따라서 앱서버가 가운데에서 중간다리 역할을 한다고 생각하면 이해하기 쉽습니다. Tomcat, uWsgi, WebLogic, Jboss등이 해당합니다. uWsgi는 HTTP request를 python으로, 반대로 python 응답을 웹서버로 전달하여 줍니다.

**앱 또는 Web Application**
앱은 DB를 질의하고 데이터를 가공하여 제공하는 역할을 담당합니다. Django, Flask, PHP, JSP, ASP등등 예로 들 수 있습니다. 비지니스로직이 앱에서 구현됩니다.

**정리**
![Client — 웹서버 — WAS의 구조](https://miro.medium.com/max/3000/1*sG81J1k5FgPrdh5OHEgesQ.png "Client — 웹서버 — WAS의 구조")
Client — 웹서버 — WAS의 구조
클라이언트에서 서버에 HTTP 요청을 보내면 웹서버가 해당 내용이 정적파일에 대한 요청인지 확인후, 맞으면 그대로 응답합니다. 아니라면 WAS에 요청을 넘깁니다. WAS는 해당 요청을 App이 알 수 있는 형태로 넘기고 App에서 실질적인 데이터를 처리하여 응답합니다.


